<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Online Bookstore</title>
  <style>
    body {
      font-family: "Poppins", Arial, sans-serif;
      background: linear-gradient(120deg, #f9f9f9, #eef4fb);
      margin: 0;
      padding: 20px;
      color: #333;
    }

    h1 {
      text-align: center;
      margin-bottom: 40px;
      font-size: 2.5rem;
      color: #222;
      font-weight: 600;
    }

    .book-list {
      max-width: 900px;
      margin: auto;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 20px;
    }

    .book {
      background: #fff;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.08);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .book:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 22px rgba(0,0,0,0.12);
    }

    .book strong {
      display: block;
      font-size: 1.2rem;
      color: #007bff;
      margin-bottom: 6px;
    }

    .book small {
      display: block;
      margin-bottom: 8px;
      color: #666;
    }

    .book span {
      font-weight: bold;
      color: #28a745;
      font-size: 1.05rem;
    }

    .book button {
      margin-top: 12px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .book button:hover {
      background: #0056b3;
    }

    .cart {
      max-width: 400px;
      margin: 40px auto;
      background: #fff;
      padding: 25px;
      border-radius: 16px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.08);
      position: sticky;
      top: 20px;
    }

    .cart h2 {
      margin-top: 0;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.4rem;
      color: #444;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 10px 0;
      padding: 10px 12px;
      border-radius: 10px;
      background: #f8f9fa;
      font-size: 0.95rem;
    }

    .cart-item span {
      flex: 1;
      font-weight: 500;
      color: #333;
    }

    .cart-item button {
      background: #dc3545;
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 0.8rem;
      border: none;
      color: white;
      cursor: pointer;
      transition: background 0.2s;
    }

    .cart-item button:hover {
      background: #b52a37;
    }

    .cart-total {
      font-weight: bold;
      margin-top: 15px;
      padding-top: 12px;
      border-top: 2px solid #eee;
      font-size: 1.2rem;
      color: #111;
      text-align: right;
    }
  </style>
</head>
<body>
  <h1>ðŸ“š Online Bookstore</h1>
  <div class="book-list" id="bookList"></div>
  <div class="cart">
    <h2>ðŸ›’ Shopping Cart</h2>
    <div id="cartItems"></div>
    <div class="cart-total" id="cartTotal">Total: â‚¹0</div>
  </div>

  <script>
    // ======= Data =======
    var books = [
        { title: "konsein", author: "witchman", price: 4999, availability: "in stock" },
  { title: "Harry potter", author: "john wick", price: 5999, availability: "in stock" },
  { title: "Orginal Gangster", author: "Sujeeth", price: 6999, availability: "in stock" },
  { title: "The dark", author: "meher", price: 8500, availability: "out of stock" }
    ];

    // ======= Cart =======
    var cart = [];

    function addToCart(book) {
      cart.push(book);
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
    }

    function calculateTotal() {
      return cart.reduce(function(sum, book) { return sum + book.price; }, 0);
    }

    // ======= UI Update =======
    function updateCartUI(cartData) {
      var cartItemsDiv = document.getElementById("cartItems");
      var cartTotalDiv = document.getElementById("cartTotal");

      cartItemsDiv.innerHTML = "";

      cartData.forEach(function(book, index) {
        var itemDiv = document.createElement("div");
        itemDiv.className = "cart-item";
        itemDiv.innerHTML = `
          <span>${book.title} - â‚¹${book.price}</span>
          <button data-index="${index}">Remove</button>
        `;
        cartItemsDiv.appendChild(itemDiv);
      });

      cartItemsDiv.querySelectorAll("button").forEach(function(btn) {
        btn.addEventListener("click", function(e) {
          var idx = e.target.getAttribute("data-index");
          removeFromCart(idx);
          updateCartUI(cart);
        });
      });

      cartTotalDiv.textContent = "Total: â‚¹" + calculateTotal();
    }

    // ======= Display Books =======
    function displayBooks() {
      var bookList = document.getElementById("bookList");
      bookList.innerHTML = "";

      books.forEach(function(book, index) {
        var bookDiv = document.createElement("div");
        bookDiv.className = "book";
        bookDiv.innerHTML = `
          <div>
            <strong>${book.title}</strong>
            <small>by ${book.author}</small>
            <span>â‚¹${book.price}</span>
          </div>
          <div>
            ${book.availability === "in stock"
              ? '<button data-index="' + index + '">Add to Cart</button>'
              : '<span style="color:red; font-weight:bold;">Out of Stock</span>'}
          </div>
        `;
        bookList.appendChild(bookDiv);
      });

      bookList.querySelectorAll("button").forEach(function(btn) {
        btn.addEventListener("click", function(e) {
          var idx = e.target.getAttribute("data-index");
          addToCart(books[idx]);
          updateCartUI(cart);
        });
      });
    }

    // ======= Initialize =======
    displayBooks();
    updateCartUI(cart);
  </script>
</body>
</html>